(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[723],{594:(e,t,a)=>{"use strict";a.d(t,{g:()=>l});var r=a(4807);function l(e){let{className:t="w-6 h-6"}=e;return(0,r.jsx)("img",{src:"/site_logo.png",alt:"Gameit Logo",className:"object-contain ".concat(t," rounded-md")})}},1984:(e,t,a)=>{"use strict";a.d(t,{M:()=>s,cn:()=>n});var r=a(910),l=a(4975);function n(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,l.QP)((0,r.$)(t))}function s(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5;if(!e)return"Unknown";if(e.length<=t+a+3)return e;let r=e.substring(0,t),l=e.substring(e.length-a);return"".concat(r,"...").concat(l)}},5095:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>A});var r=a(4807),l=a(2015),n=a(5547),s=a(4950),i=a.n(s),o=a(7812);function c(e){let{gameData:t,onGameEnd:a}=e,[n,s]=(0,l.useState)(0),[i,c]=(0,l.useState)(30),[d,m]=(0,l.useState)(!1),[h,x]=(0,l.useState)(0),[u,f]=(0,l.useState)(20),p=+h,[g,b]=(0,l.useState)(0),[y,w]=(0,l.useState)(15),v=1+.5*g,[j,S]=(0,l.useState)(!1),[N,k]=(0,l.useState)(0),[T,A]=(0,l.useState)(20),[E,C]=(0,l.useState)(20),[M,F]=(0,l.useState)(0),[I,R]=(0,l.useState)(0),[z,_]=(0,l.useState)(50),[P,B]=(0,l.useState)(!1),[L,O]=(0,l.useState)(!1);(0,l.useEffect)(()=>{let e,t;return d&&i>0?(e=setTimeout(()=>{c(e=>e-1)},1e3),p>0&&!j&&(t=setInterval(()=>{s(e=>e+p)},1e3))):d&&0===i&&(m(!1),S(!1),a&&a(n)),()=>{clearTimeout(e),clearInterval(t)}},[d,i,a,p,j]),(0,l.useEffect)(()=>{let e;return j&&N>0?e=setTimeout(()=>{k(e=>e-1)},1e3):j&&0===N&&S(!1),()=>clearTimeout(e)},[j,N]);let D=Math.min(M/E*100,100),q="BONK"===t.tokenSymbol,Y="SHIB"===t.tokenSymbol,H={first:q?"bg-pink-600 hover:bg-pink-700 border-pink-800":"bg-amber-600 hover:bg-amber-700 border-amber-800",second:q?"bg-purple-600 hover:bg-purple-700 border-purple-800":"bg-yellow-600 hover:bg-yellow-700 border-yellow-800",third:q?"bg-teal-600 hover:bg-teal-700 border-teal-800":"bg-orange-600 hover:bg-orange-700 border-orange-800"},W=j?q?"bg-gradient-to-br from-yellow-400 via-orange-500 to-red-600 animate-pulse":"bg-gradient-to-br from-indigo-500 via-purple-500 to-pink-600 animate-pulse":q?"bg-gradient-to-br from-orange-400 via-red-400 to-pink-400":Y?"bg-gradient-to-br from-amber-300 via-yellow-400 to-orange-500":"bg-gradient-to-br from-blue-400 via-cyan-400 to-teal-400";return(0,r.jsxs)("div",{className:"w-full h-full flex flex-col items-center justify-center p-2 md:p-4 ".concat(W," rounded-xl shadow-2xl text-center border-4 ").concat(q?"border-white":"border-yellow-200"," relative overflow-hidden transition-all duration-500"),children:[(j||L)&&(0,r.jsx)("div",{className:"absolute inset-0 pointer-events-none z-0",children:[...Array(j?30:10)].map((e,t)=>(0,r.jsx)("div",{className:"absolute rounded-full ".concat(L&&!j?"bg-white":"bg-yellow-300"," ").concat(j?"animate-ping":""),style:{width:"".concat(Math.random()*(j?8:5)+2,"px"),height:"".concat(Math.random()*(j?8:5)+2,"px"),left:"".concat(100*Math.random(),"%"),top:"".concat(100*Math.random(),"%"),animationDuration:"".concat(+Math.random()+.3,"s"),animationDelay:"".concat(.3*Math.random(),"s"),opacity:L&&!j?1:.8*!!j,transform:L&&!j?"scale(".concat(+Math.random()+.5,")"):"scale(1)",transition:"opacity 0.2s ease-out, transform 0.2s ease-out"}},t))}),(0,r.jsxs)("div",{className:"relative z-10 flex flex-col items-center justify-center flex-grow w-full max-w-lg",children:[" ",(0,r.jsx)("h2",{className:"text-3xl md:text-4xl font-pixel text-white mb-2 md:mb-3",style:{textShadow:"3px 3px 0px ".concat(q?"rgba(0,0,0,0.2)":"rgba(139,69,19,0.3)")},children:t.name}),(0,r.jsxs)("p",{className:"text-white/80 mb-1 text-sm md:text-base font-pixel",children:["Token: ",(0,r.jsx)("span",{className:"font-semibold ".concat(q?"text-white":"text-yellow-100"),children:t.tokenSymbol})]}),(0,r.jsxs)("p",{className:"text-3xl md:text-4xl text-white mb-2 md:mb-4 font-pixel tabular-nums",style:{textShadow:"2px 2px 0px ".concat(q?"rgba(0,0,0,0.1)":"rgba(139,69,19,0.2)")},children:["Score: ",(0,r.jsx)("span",{className:"font-bold ".concat(q?"text-yellow-300":"text-amber-200"),children:n})]}),d&&(0,r.jsxs)("div",{className:"mb-2 md:mb-3 space-y-1 text-xs md:text-sm text-white/90 font-pixel bg-black/20 p-1 md:p-2 rounded-md w-full",children:[h>0&&(0,r.jsxs)("p",{children:[q?"BONK Battery":"SHIB Power",": +",p,"/sec (Lvl ",h,")"]}),g>0&&(0,r.jsxs)("p",{children:[q?"Power BONK":"SHIB Boost",": x",v.toFixed(1)," Clicks (Lvl ",g,")"]}),I>0&&(0,r.jsxs)("p",{children:[q?"Frenzy Fuel":"SHIB Mania",": ",E," clicks for Frenzy (Lvl ",I,")"]}),0===h&&0===g&&0===I&&(0,r.jsx)("p",{children:q?"Buy upgrades below!":"Get SHIB upgrades below!"})]}),!d&&0===i&&(0,r.jsxs)("p",{className:"text-2xl md:text-3xl text-white my-4 md:my-6 font-pixel animate-bounce",children:["Game Over! Final Score: ",n]}),d&&(0,r.jsxs)("p",{className:"text-xl md:text-2xl mb-2 md:mb-3 font-pixel ".concat(j?"text-yellow-300 animate-pulse font-bold":"text-white/90"),children:["Time Left: ",i,"s ",j&&"(FRENZY! ".concat(N,"s)")]}),d&&!j&&i>0&&(0,r.jsxs)("div",{className:"w-full bg-black/30 rounded-full h-5 md:h-6 mb-2 md:mb-3 border-2 border-white/50 overflow-hidden relative",children:[(0,r.jsx)("div",{className:"h-full rounded-full transition-all duration-100 ease-linear flex items-center justify-center\n                ".concat(q?"bg-gradient-to-r from-yellow-400 to-orange-500":"bg-gradient-to-r from-amber-300 to-yellow-500"),style:{width:"".concat(D,"%")}}),(0,r.jsxs)("span",{className:"text-xs font-pixel text-white absolute inset-0 flex items-center justify-center",style:{textShadow:"1px 1px 1px black"},children:[q?"FRENZY":"MANIA"," CHARGE (",M,"/",E,")"]})]}),(0,r.jsxs)("div",{className:"my-4 md:my-6 min-h-[100px] md:min-h-[120px] flex items-center justify-center relative",children:[" ",d&&i>0&&(0,r.jsx)(o.$,{onClick:()=>{if(d&&i>0){if(s(n+(j?Math.ceil(5*v):Math.ceil(v))),B(!0),setTimeout(()=>B(!1),100),j)s(n+Math.ceil(5*v));else{let e=.05>Math.random(),t=Math.ceil(v);s(n+(e?5*t:t)),e&&(O(!0),setTimeout(()=>O(!1),200)),F(M+1),M+1>=E&&(S(!0),k(5),F(0))}}},className:"px-8 py-6 md:px-10 md:py-8 text-black font-pixel text-2xl md:text-3xl rounded-full shadow-xl active:shadow-inner transform active:scale-90 transition-all duration-100 ease-in-out border-4\n                          ".concat(q?"bg-yellow-500 hover:bg-yellow-600 border-yellow-700":"bg-amber-400 hover:bg-amber-500 border-amber-600","\n                          ").concat(P?"scale-105":"","\n                          ").concat(L?"ring-4 ring-white animate-ping":"","\n                          ").concat(j?"animate-bounce border-white ring-4 ".concat(q?"ring-orange-300 bg-orange-500 hover:bg-orange-600":"ring-yellow-300 bg-yellow-500 hover:bg-yellow-600"):""),style:{minWidth:"150px",minHeight:"80px",textShadow:"2px 2px 0px rgba(255,255,255,0.3)",backgroundImage:q?void 0:"linear-gradient(135deg, #fbbf24, #f59e0b)"},children:q?"BONK!":"SHIB!"})]}),d&&i>0&&(0,r.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-2 md:gap-3 mt-3 md:mt-4 w-full",children:[" ",(0,r.jsxs)(o.$,{onClick:()=>{d&&i>0&&n>=u&&(s(n-u),x(h+1),f(Math.floor(1.6*u)))},disabled:n<u,className:"w-full text-white font-pixel text-xs py-2 px-1 md:px-2 border-2 shadow-md disabled:bg-gray-600 disabled:opacity-70 flex flex-col items-center justify-center h-16 md:h-20 ".concat(H.first),children:[(0,r.jsx)("span",{children:q?"BONK Battery L".concat(h+1):"SHIB Power L".concat(h+1)}),(0,r.jsxs)("span",{className:"text-[9px] md:text-[10px] opacity-80",children:["(+",p+1,"/sec)"]}),(0,r.jsxs)("span",{className:"text-yellow-300 text-[10px] md:text-[11px] mt-0.5",children:["Cost: ",u]})]}),(0,r.jsxs)(o.$,{onClick:()=>{d&&i>0&&n>=y&&(s(n-y),b(g+1),w(Math.floor(1.7*y)))},disabled:n<y,className:"w-full text-white font-pixel text-xs py-2 px-1 md:px-2 border-2 shadow-md disabled:bg-gray-600 disabled:opacity-70 flex flex-col items-center justify-center h-16 md:h-20 ".concat(H.second),children:[(0,r.jsx)("span",{children:q?"Power BONK L".concat(g+1):"SHIB Boost L".concat(g+1)}),(0,r.jsxs)("span",{className:"text-[9px] md:text-[10px] opacity-80",children:["(x",(v+.5).toFixed(1)," Click)"]}),(0,r.jsxs)("span",{className:"text-yellow-300 text-[10px] md:text-[11px] mt-0.5",children:["Cost: ",y]})]}),(0,r.jsxs)(o.$,{onClick:()=>{if(d&&i>0&&n>=z){s(n-z);let e=I+1;R(e),C(Math.max(5,T-2*e)),_(Math.floor(1.8*z))}},disabled:n<z,className:"w-full text-white font-pixel text-xs py-2 px-1 md:px-2 border-2 shadow-md disabled:bg-gray-600 disabled:opacity-70 flex flex-col items-center justify-center h-16 md:h-20 ".concat(H.third),children:[(0,r.jsx)("span",{children:q?"Frenzy Fuel L".concat(I+1):"SHIB Mania L".concat(I+1)}),(0,r.jsxs)("span",{className:"text-[9px] md:text-[10px] opacity-80",children:["(",Math.max(5,T-(I+1)*2)," Clicks)"]}),(0,r.jsxs)("span",{className:"text-yellow-300 text-[10px] md:text-[11px] mt-0.5",children:["Cost: ",z]})]})]}),!d&&(0,r.jsx)(o.$,{onClick:()=>{s(0),c(30),m(!0),x(0),f(20),b(0),w(15),m(!0),x(0),f(20),b(0),w(15),R(0),_(50),C(T),S(!1),k(0),F(0)},className:"w-full max-w-xs bg-green-600 hover:bg-green-700 text-white font-pixel text-xl md:text-2xl py-3 md:py-4 mt-4 md:mt-6 border-2 border-green-800 shadow-lg ".concat(Y?"bg-yellow-600 hover:bg-yellow-700 border-yellow-800":""),children:0===i?"Play Again?":q?"Start BONKing!":"Start SHIBbing!"})]})]})}let d=[{name:"Easy",gridSize:12,timeLimit:60,pointsPerMatch:10},{name:"Medium",gridSize:16,timeLimit:45,pointsPerMatch:20},{name:"Hard",gridSize:20,timeLimit:30,pointsPerMatch:30}];function m(e){let{gameData:t,onGameEnd:a}=e,[n,s]=(0,l.useState)(d[0]),[i,c]=(0,l.useState)([]),[m,h]=(0,l.useState)([]),[x,u]=(0,l.useState)(0),[f,p]=(0,l.useState)(0),[g,b]=(0,l.useState)(n.timeLimit),[y,w]=(0,l.useState)(!1),[v,j]=(0,l.useState)(!1),[S,N]=(0,l.useState)(""),k=()=>{let e=["doge","shiba","akita","floki","cheems","moon"],t=n.gridSize/2,a=[];for(;a.length<t;)a=[...a,...e];let r=[...a=a.slice(0,t),...a];c((r=r.sort(()=>Math.random()-.5)).map((e,t)=>({id:t,type:e,flipped:!1,matched:!1}))),u(0),p(0),b(n.timeLimit),h([]),j(!1),N("")},T=e=>{s(e),w(!0),setTimeout(()=>{k()},100)},A=e=>{if(e.flipped||e.matched||m.length>=2||v)return;c(i.map(t=>t.id===e.id?{...t,flipped:!0}:t));let t=[...m,{...e,flipped:!0}];if(h(t),2===t.length){let[e,r]=t;e.type===r.type?setTimeout(()=>{if(c(t=>t.map(t=>t.id===e.id||t.id===r.id?{...t,matched:!0}:t)),u(e=>e+1),p(e=>e+n.pointsPerMatch),h([]),N("+".concat(n.pointsPerMatch," points!")),setTimeout(()=>N(""),1e3),x+1===n.gridSize/2){j(!0);let e=f+n.pointsPerMatch+Math.floor(.5*g);p(e),a&&a(e)}},500):setTimeout(()=>{c(t=>t.map(t=>t.id===e.id||t.id===r.id?{...t,flipped:!1}:t)),h([])},1e3)}};(0,l.useEffect)(()=>{let e;return y&&!v&&g>0?e=setInterval(()=>{b(e=>e-1)},1e3):0===g&&!v&&y&&(j(!0),N("Time's up!"),a&&a(f)),()=>clearInterval(e)},[y,v,g,f,a]);let E=e=>{switch(e){case"doge":return"bg-yellow-300";case"shiba":return"bg-orange-300";case"akita":return"bg-red-300";case"floki":return"bg-blue-300";case"cheems":return"bg-green-300";case"moon":return"bg-purple-300";default:return"bg-gray-300"}};return(0,r.jsx)("div",{className:"w-full h-full flex flex-col items-center justify-center p-2 md:p-4 text-center bg-gradient-to-br from-orange-100 to-yellow-200",children:(0,r.jsxs)("div",{className:"w-full max-w-3xl flex flex-col items-center justify-center bg-white/90 backdrop-blur-sm p-3 md:p-4 rounded-xl shadow-xl",children:[(0,r.jsxs)("div",{className:"mb-2 md:mb-3 w-full",children:[(0,r.jsx)("h2",{className:"text-xl md:text-2xl font-bold text-amber-800",children:t.name||"Doge Memory Match"}),y&&(0,r.jsxs)("div",{className:"flex justify-between items-center w-full text-sm md:text-base",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"font-semibold",children:"Score:"})," ",f]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"font-semibold",children:"Pairs:"})," ",x,"/",n.gridSize/2]}),(0,r.jsxs)("div",{className:g<10?"text-red-500 font-bold":"",children:[(0,r.jsx)("span",{className:"font-semibold",children:"Time:"})," ",g,"s"]})]})]}),S&&(0,r.jsx)("div",{className:"py-2 px-4 bg-amber-100 text-amber-800 rounded-lg animate-bounce mb-2",children:S}),!y&&(0,r.jsxs)("div",{className:"my-6 w-full",children:[(0,r.jsx)("h3",{className:"text-lg md:text-xl font-semibold mb-3 text-amber-700",children:"Select Difficulty"}),(0,r.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3",children:d.map((e,t)=>(0,r.jsxs)(o.$,{onClick:()=>T(e),className:"p-3 md:p-4 ".concat(0===t?"bg-green-500 hover:bg-green-600":1===t?"bg-amber-500 hover:bg-amber-600":"bg-red-500 hover:bg-red-600"," text-white font-bold rounded-lg"),children:[e.name,(0,r.jsxs)("div",{className:"text-xs mt-1 opacity-90",children:[e.gridSize," cards | ",e.timeLimit,"s"]})]},t))})]}),y&&!v&&(0,r.jsx)("div",{className:"grid gap-2 md:gap-3 w-full my-3",style:{gridTemplateColumns:"repeat(".concat(Math.sqrt(n.gridSize)||4,", 1fr)"),maxWidth:n.gridSize>16?"600px":"500px"},children:i.map(e=>(0,r.jsx)("button",{onClick:()=>A(e),className:"aspect-square flex items-center justify-center rounded-lg shadow-md transition-all duration-300 transform ".concat(e.flipped||e.matched?"".concat(E(e.type)," rotate-0"):"".concat("bg-gradient-to-br from-amber-400 to-orange-500 border-2 border-amber-600"," rotate-y-180")," ").concat(e.matched?"opacity-70":"hover:shadow-lg"),disabled:e.matched||v,children:(e.flipped||e.matched)&&(0,r.jsxs)("div",{className:"flex flex-col items-center justify-center",children:[(0,r.jsx)("span",{className:"text-lg md:text-xl font-bold",children:e.type.charAt(0).toUpperCase()}),(0,r.jsx)("span",{className:"text-xs capitalize",children:e.type})]})},e.id))}),v&&(0,r.jsxs)("div",{className:"my-6 text-center",children:[(0,r.jsx)("h3",{className:"text-xl md:text-2xl font-bold text-amber-700 mb-2",children:x===n.gridSize/2?"Wow! Such Memory!":"Game Over"}),(0,r.jsxs)("p",{className:"text-lg mb-4",children:["Final Score: ",f]}),(0,r.jsx)(o.$,{onClick:()=>{w(!1),j(!1)},className:"bg-amber-500 hover:bg-amber-600 text-white font-bold py-2 px-6 rounded-lg",children:"Play Again"})]})]})})}var h=a(1562);let x=[{id:"start",title:"Distress Signal",text:["The distant beeping of a comms alert pulls you from cryosleep. Your small exploration vessel has intercepted a distress signal from a derelict space station orbiting an unknown planet.","The ship's AI plays the fragmented message: '...critical research... must not be lost... dimensional anomaly... requires immediate extraction...' The transmission reveals coordinates to a research outpost. What will you do?"],imageUrl:"/retro-arcade-game.png",choices:[{text:"Investigate the space station",nextSceneId:"approach_station",effect:{stat:"tech",value:5}},{text:"Ignore the signal and continue your mission",nextSceneId:"ignore_signal_ending"}]},{id:"ignore_signal_ending",title:"The Road Not Taken",text:"You choose to ignore the distress signal and continue on your original mission. Weeks later, reports reach you of a catastrophic dimensional breach that consumed three star systems. Your nightmares are haunted by the knowledge that you could have helped.",isEnding:!0,scoreEffect:-50,choices:[]},{id:"approach_station",title:"The Abandoned Station",text:"Your ship docks with the derelict station. Emergency lights flicker dimly along the corridors. The air is thin but breathable. At a junction, you must decide which section to explore first.",imageUrl:"/retro-tetris.png",choices:[{text:"Head to the command center",nextSceneId:"command_center",effect:{stat:"oxygen",value:-5}},{text:"Investigate the research lab",nextSceneId:"research_lab",effect:{stat:"oxygen",value:-3}}]},{id:"command_center",title:"Command Center",text:"The command center is in disarray. Bodies of the crew float in zero gravity, their expressions frozen in terror. The main computer still functions, however, and contains crucial information about the research that was being conducted.",choices:[{text:"Download the station logs",nextSceneId:"discover_secret",effect:{item:"station_logs",action:"add"}}],scoreEffect:-10},{id:"research_lab",title:"The Research Lab",text:"The lab appears intact but abandoned. Holographic displays show complex equations related to dimensional physics. You notice a small device on the central workstation pulsing with an eerie blue light.",choices:[{text:"Examine the strange device",nextSceneId:"examine_device",effect:{stat:"tech",value:10}},{text:"Look for research notes",nextSceneId:"find_notes",effect:{stat:"oxygen",value:-2}}]},{id:"examine_device",title:"The Dimensional Key",text:"The device appears to be some kind of key or gateway controller. As you touch it, it synchronizes with your suit's systems, revealing its purpose: it's designed to seal dimensional breaches. This must be what the distress signal was about.",choices:[{text:"Take the device and head to the reactor core",nextSceneId:"reactor_approach",effect:{item:"dimensional_key",action:"add"}}],scoreEffect:25},{id:"find_notes",title:"The Research Notes",text:"You discover a personal log from the chief scientist. 'The breach is growing unstable. Only the dimensional key can seal it, but it must be used at the source - in the reactor core. The energy requirements are extreme; whoever uses it may not survive the process.'",choices:[{text:"Search for the dimensional key",nextSceneId:"examine_device"},{text:"Head directly to the reactor",nextSceneId:"reactor_approach"}]},{id:"discover_secret",title:"Terrible Truth",text:"The station logs reveal that the scientists were experimenting with interdimensional travel. They inadvertently created a breach that is slowly expanding. If not sealed, it will eventually consume this entire system and beyond.",choices:[{text:"Search for the rumored 'dimensional key'",nextSceneId:"examine_device"}]},{id:"reactor_approach",title:"The Reactor Core",text:"The corridor to the reactor core pulses with strange energy. Reality itself seems to warp and distort around a swirling vortex visible through the viewport. This must be the dimensional breach.",imageUrl:"/retro-arcade-game.png",choices:[{text:"Use the dimensional key to seal the breach",nextSceneId:"use_key",effect:{item:"dimensional_key",action:"remove"}},{text:"Try to escape while you still can",nextSceneId:"escape_attempt"}]},{id:"escape_attempt",title:"A Failed Escape",text:"As you turn to flee, the breach suddenly expands. The last thing you see is reality folding in on itself as you're pulled into the void. The breach continues to grow, eventually consuming the entire system.",isEnding:!0,scoreEffect:-30,choices:[]},{id:"use_key",title:"The Ultimate Sacrifice",text:"You activate the dimensional key. It interfaces with the station systems, creating a counter-resonance to the breach. The vortex begins to shrink, but the energy feedback is overwhelming your suit systems. You have one chance to escape before the sealing is complete.",choices:[{text:"Stay and ensure the breach is fully sealed",nextSceneId:"hero_ending"},{text:"Make a run for your ship",nextSceneId:"escape_ending"}]},{id:"hero_ending",title:"The Hero's Sacrifice",text:"You remain in place, holding the key as the breach collapses. The pain is excruciating as dimensional energies cascade through your body. But you succeed - the breach is sealed forever. Your sacrifice saves countless worlds across multiple dimensions. Your name will be remembered among the stars.",imageUrl:"/retro-tetris.png",isEnding:!0,scoreEffect:150,choices:[]},{id:"escape_ending",title:"Narrow Escape",text:"You sprint toward your ship as the station begins to implode behind you. Launching with seconds to spare, you watch as the station collapses in on itself, the breach contained but not fully sealed. You've saved this system, but reports may continue of dimensional anomalies elsewhere. Still, you live to explore another day.",isEnding:!0,scoreEffect:80,choices:[]}];function u(e){let{gameData:t,onGameEnd:a}=e,[n,s]=(0,l.useState)("start"),[i,c]=(0,l.useState)({tech:0,oxygen:10,items:[]}),[d,m]=(0,l.useState)(null),[u,f]=(0,l.useState)(!1),p=x.find(e=>e.id===n);(0,l.useEffect)(()=>{if(null==p?void 0:p.isEnding){f(!0);let e=i.tech+(p.scoreEffect||0);e+=2*i.oxygen,i.items.forEach(t=>e+=15),a&&a(e),m("Mission Complete. Final Tech Score: ".concat(e))}},[p,i,a]);let g=e=>{var t;if(u)return;let a="",r={...i,items:[...i.items]};if(e.effect){let t=e.effect;"stat"in t?(r[t.stat]+=t.value,a+="".concat(t.stat," ").concat(t.value>0?"+":"").concat(t.value,". ")):"item"in t&&("add"===t.action?r.items.includes(t.item)||(r.items.push(t.item),a+="Acquired ".concat(t.item,"! ")):(r.items=r.items.filter(e=>e!==t.item),a+="Used ".concat(t.item,". ")))}let l=(null===(t=x.find(e=>e.id===n))||void 0===t?void 0:t.scoreEffect)||0;0===l||(null==p?void 0:p.isEnding)||(r.tech+=l,a+="Tech ".concat(l>0?"+":"").concat(l,". ")),c(r),s(e.nextSceneId),m(a.trim()||null),a.trim()&&setTimeout(()=>m(null),3e3)};if(!p)return(0,r.jsx)("div",{className:"w-full h-full flex items-center justify-center p-4 text-white bg-gray-800",children:"Error: Scene not found!"});let b="text-cyan-300",y="bg-indigo-800 hover:bg-indigo-700",w="text-white";return(0,r.jsx)("div",{className:"w-full h-full flex flex-col items-center justify-center p-2 md:p-4 text-center relative overflow-hidden bg-cover bg-center",style:{fontFamily:"'Orbitron', 'Rajdhani', sans-serif",backgroundImage:"linear-gradient(to bottom, #0f172a, #020617)",color:"text-blue-100"},children:(0,r.jsxs)("div",{className:"w-full max-w-2xl flex flex-col items-center justify-between flex-grow bg-black/80 backdrop-blur-md p-4 md:p-6 rounded-xl shadow-2xl border-2 ".concat("border-cyan-700"),children:[(0,r.jsxs)("header",{className:"w-full mb-4",children:[(0,r.jsx)("h1",{className:"text-2xl md:text-3xl font-bold ".concat(b," mb-1"),children:p.title}),(0,r.jsxs)("div",{className:"flex justify-around text-sm md:text-base",children:[(0,r.jsxs)("span",{children:["Tech: ",i.tech]}),(0,r.jsxs)("span",{children:["Oxygen: ",i.oxygen]}),i.items.length>0&&(0,r.jsxs)("span",{children:["Items: ",i.items.join(", ")]})]})]}),p.imageUrl&&(0,r.jsx)("div",{className:"my-4 w-full max-w-md h-48 md:h-64 relative border-2 border-cyan-700/50 rounded-lg overflow-hidden shadow-lg",children:(0,r.jsx)(h.default,{src:p.imageUrl,alt:p.title,layout:"fill",objectFit:"cover"})}),(0,r.jsx)("main",{className:"flex-grow w-full flex flex-col items-center justify-center my-2 md:my-4",children:(0,r.jsx)("div",{className:"text-sm md:text-base leading-relaxed space-y-2 max-h-[20vh] md:max-h-[25vh] overflow-y-auto p-2 bg-black/50 rounded scrollbar-thin scrollbar-thumb-cyan-700 scrollbar-track-transparent",children:Array.isArray(p.text)?p.text.map((e,t)=>(0,r.jsx)("p",{children:e},t)):(0,r.jsx)("p",{children:p.text})})}),d&&(0,r.jsx)("div",{className:"my-2 p-2 rounded-md bg-cyan-800/50 border border-cyan-600 text-sm animate-pulse",children:d}),!u&&(0,r.jsx)("footer",{className:"w-full mt-auto grid grid-cols-1 md:grid-cols-2 gap-2 md:gap-3",children:p.choices.map((e,t)=>(0,r.jsx)(o.$,{onClick:()=>g(e),className:"p-3 md:p-4 text-sm md:text-base ".concat(y," ").concat(w," rounded-lg shadow-md hover:shadow-xl border border-indigo-600 transition-all duration-150 ease-in-out transform hover:scale-105"),children:e.text},t))}),u&&(0,r.jsxs)("div",{className:"mt-auto",children:[(0,r.jsx)("p",{className:"text-lg md:text-xl font-semibold my-4 ".concat(b),children:d||"Mission completed."}),(0,r.jsx)(o.$,{onClick:()=>{s("start"),c({tech:0,oxygen:10,items:[]}),f(!1),m(null)},className:"p-3 md:p-4 text-base md:text-lg ".concat(y," ").concat(w," rounded-lg shadow-md hover:shadow-xl border border-indigo-600"),children:"Begin New Expedition"})]})]})})}let f=[{id:"p1",x:0,y:410,width:800,height:40,type:"grass"},{id:"p2",x:150,y:330,width:150,height:20,type:"rock"},{id:"p3",x:400,y:270,width:200,height:20,type:"grass"},{id:"p4",x:650,y:350,width:100,height:20,type:"rock"}],p=[{id:"c1",x:200,y:290,width:20,height:20,type:"ape_token",value:100,collected:!1},{id:"c2",x:450,y:230,width:20,height:20,type:"banana",value:50,collected:!1},{id:"c3",x:700,y:310,width:20,height:20,type:"ape_token",value:100,collected:!1}];function g(e){let{gameData:t,onGameEnd:a}=e,n=(0,l.useRef)(null),[s,i]=(0,l.useState)(0),[c,d]=(0,l.useState)(!1),[m,h]=(0,l.useState)(!1),[x,u]=(0,l.useState)(0),[g,b]=(0,l.useState)(5e3),y=(0,l.useRef)({x:50,y:350,width:40,height:60,dx:0,dy:0,isJumping:!1,onGround:!0}),w=(0,l.useRef)(f),v=(0,l.useRef)(p.map(e=>({...e,collected:!1}))),j=(0,l.useRef)(0),S=(0,l.useRef)({}),N=(0,l.useRef)(null),k=(0,l.useRef)(0),T=(0,l.useCallback)(()=>{y.current={x:50,y:350,width:40,height:60,dx:0,dy:0,isJumping:!1,onGround:!0},i(0),d(!1),u(0),k.current=0,b(5e3),j.current=0,v.current=p.map(e=>({...e,collected:!1}))},[]),A=(0,l.useCallback)(()=>{if(!m||c)return;let e=w.current.filter(e=>"p1"!==e.id);if(0===e.length)return;let t=e[Math.floor(Math.random()*e.length)],a=t.x+Math.random()*(t.width-20),r=t.y-25,l=.7>Math.random()?"banana":"ape_token",n={id:"c".concat(Date.now()).concat(Math.floor(1e3*Math.random())),x:a,y:r,width:20,height:20,type:l,value:"banana"===l?50:100,collected:!1,lifespan:Math.floor(3e3*Math.random())+7e3};v.current.push(n)},[m,c]),E=(e,t)=>{e.fillStyle="#8D6E63",e.fillRect(t.x,t.y,t.width,t.height),e.fillStyle="white",e.fillRect(t.x+.6*t.width,t.y+.2*t.height,8,8),e.fillStyle="black",e.fillRect(t.x+.6*t.width+2,t.y+.2*t.height+2,4,4)},C=(e,t)=>{"grass"===t.type?e.fillStyle="#689F38":e.fillStyle="#757575",e.fillRect(t.x,t.y,t.width,t.height),"grass"===t.type&&(e.fillStyle="#4CAF50",e.fillRect(t.x,t.y,t.width,5))},M=(e,t)=>{t.collected||("ape_token"===t.type?(e.fillStyle="#FFD700",e.beginPath(),e.arc(t.x+t.width/2,t.y+t.height/2,t.width/2,0,2*Math.PI),e.fill(),e.fillStyle="#B8860B",e.textAlign="center",e.textBaseline="middle",e.font="bold 12px Arial",e.fillText("A",t.x+t.width/2,t.y+t.height/2+1)):"banana"===t.type&&(e.fillStyle="#FFEE58",e.beginPath(),e.ellipse(t.x+t.width/2,t.y+t.height/2,t.width/2,t.height/3,Math.PI/4,0,2*Math.PI),e.fill()))},F=e=>{e.fillStyle="white",e.font="24px 'Arial', sans-serif",e.textAlign="left",e.fillText("Score: ".concat(s),20,30)},I=(0,l.useCallback)(()=>{if(!m||c||!n.current){N.current&&cancelAnimationFrame(N.current);return}let e=n.current.getContext("2d");if(!e)return;let t=Date.now();k.current+=1/60,u(Math.floor(k.current)),t-j.current>g&&(A(),j.current=t,b(Math.max(1e3,5e3-100*Math.floor(k.current)))),v.current=v.current.filter(e=>!e.lifespan||(e.lifespan-=16.67,e.lifespan>0||e.collected));let r=y.current;S.current.ArrowLeft||S.current.a?r.dx=-5:S.current.ArrowRight||S.current.d?r.dx=5:(r.dx*=.8,.1>Math.abs(r.dx)&&(r.dx=0)),(S.current.ArrowUp||S.current.w||S.current[" "])&&r.onGround&&!r.isJumping&&(r.dy=-12,r.isJumping=!0,r.onGround=!1),r.dy+=.6,r.x+=r.dx,r.y+=r.dy,r.onGround=!1,r.x<0&&(r.x=0),r.x+r.width>800&&(r.x=800-r.width),w.current.forEach(e=>{r.x<e.x+e.width&&r.x+r.width>e.x&&r.y<e.y+e.height&&r.y+r.height>e.y&&r.dy>0&&r.y+r.height-r.dy<=e.y&&(r.y=e.y-r.height,r.dy=0,r.isJumping=!1,r.onGround=!0)}),r.y>450&&(d(!0),a&&a(s)),v.current.forEach(e=>{!e.collected&&r.x<e.x+e.width&&r.x+r.width>e.x&&r.y<e.y+e.height&&r.y+r.height>e.y&&(e.collected=!0,i(t=>t+e.value))}),e.fillStyle="#42A5F5",e.fillRect(0,0,800,450),w.current.forEach(t=>C(e,t)),v.current.forEach(t=>M(e,t)),E(e,r),F(e),c?(e.fillStyle="rgba(0,0,0,0.7)",e.fillRect(0,0,800,450),e.fillStyle="white",e.font="40px Arial",e.textAlign="center",e.fillText("Game Over!",400,205),e.font="20px Arial",e.fillText("Final Score: ".concat(s),400,245)):N.current=requestAnimationFrame(I)},[m,c,s,a,A,g]);return(0,l.useEffect)(()=>(m&&!c&&(N.current=requestAnimationFrame(I)),()=>{N.current&&cancelAnimationFrame(N.current)}),[m,c,I]),(0,l.useEffect)(()=>{let e=e=>{S.current[e.key]=!0,[" ","ArrowUp","ArrowDown","ArrowLeft","ArrowRight"].includes(e.key)&&e.preventDefault()},t=e=>{S.current[e.key]=!1};return window.addEventListener("keydown",e),window.addEventListener("keyup",t),()=>{window.removeEventListener("keydown",e),window.removeEventListener("keyup",t)}},[]),(0,l.useEffect)(()=>{if(n.current&&!m){let e=n.current.getContext("2d");e&&(e.fillStyle="#42A5F5",e.fillRect(0,0,800,450),w.current.forEach(t=>C(e,t)),E(e,y.current),F(e),e.fillStyle="rgba(0,0,0,0.5)",e.fillRect(0,0,800,450),e.fillStyle="white",e.font="30px Arial",e.textAlign="center",e.fillText("Press Start to Play",400,225))}},[m]),(0,r.jsxs)("div",{className:"w-full h-full flex flex-col items-center justify-center text-center p-1 md:p-2 bg-gray-800",children:[(0,r.jsxs)("div",{className:"mb-2 md:mb-3 text-xs md:text-sm text-white",children:[(0,r.jsx)("h2",{className:"text-xl md:text-2xl font-bold text-yellow-400",children:t.name}),(0,r.jsx)("p",{children:"Collect APE tokens and bananas! Use Arrows/WASD to move, Space/Up to jump."}),m&&!c&&(0,r.jsxs)("p",{className:"mt-1 text-yellow-200",children:["Time: ",x,"s | Score: ",s," | Coin Spawn Rate: ",(g/1e3).toFixed(1),"s"]})]}),(0,r.jsx)("div",{className:"w-full max-w-[90vw] md:max-w-[80vw] aspect-[16/9] bg-black rounded-md border border-yellow-500/50 shadow-2xl shadow-yellow-500/30 overflow-hidden",children:(0,r.jsx)("canvas",{ref:n,width:800,height:450,className:"w-full h-full object-contain"})}),(!m||c)&&(0,r.jsx)(o.$,{onClick:()=>{T(),h(!0)},className:"mt-3 md:mt-4 bg-yellow-500 hover:bg-yellow-600 text-gray-900 font-bold text-lg md:text-xl py-2 md:py-3 px-6 md:px-8 rounded-lg",children:c?"Play Again":"Start Game"})]})}let b=e=>{let{gameData:t}=e,a=(0,l.useRef)(null);return(0,l.useEffect)(()=>{if(a.current&&t.files){var e;let r=a.current,l=r.contentDocument||(null===(e=r.contentWindow)||void 0===e?void 0:e.document);if(l){l.open();let e=t.files.find(e=>e.name.endsWith(".html")),a=t.files.find(e=>e.name.endsWith(".css")),r=t.files.find(e=>e.name.endsWith(".js")),n=e?e.content:"<html><body>No HTML content found.</body></html>";a&&(n=n.replace("</head>","<style>".concat(a.content,"</style></head>"))),r&&(n=n.replace("</body>","<script>".concat(r.content,"<\/script></body>"))),l.write(n),l.close()}}},[t.files]),(0,r.jsx)("div",{className:"w-full h-full flex items-center justify-center bg-black",children:(0,r.jsx)("iframe",{ref:a,className:"w-full h-full border-0",title:t.name,sandbox:"allow-scripts allow-same-origin"})})},y=e=>({SOL:[{question:"What is the name of Solana's consensus mechanism?",options:["Proof of Work","Proof of History","Proof of Stake","Delegated Proof of Stake"],correctOption:1},{question:"Approximately how many transactions per second can Solana process?",options:["Up to 100","Up to 1,000","Up to 65,000","Up to 10,000"],correctOption:2},{question:"When was Solana launched?",options:["2016","2017","2018","2020"],correctOption:3}],FLOKI:[{question:"Which dog breed is associated with the FLOKI token?",options:["Shiba Inu","Poodle","Corgi","Viking dog"],correctOption:3},{question:"What famous billionaire's dog inspired the FLOKI token?",options:["Warren Buffett","Elon Musk","Bill Gates","Jeff Bezos"],correctOption:1},{question:"FLOKI is primarily built on which blockchains?",options:["Ethereum and Binance Smart Chain","Solana and Avalanche","Cardano and Polkadot","Bitcoin and Litecoin"],correctOption:0}]})[e]||[{question:"What is the main purpose of a blockchain?",options:["To store images and videos","To create a decentralized, immutable ledger","To play games online","To replace social media"],correctOption:1},{question:"Which of these is NOT a feature of blockchain technology?",options:["Decentralization","Censorship resistance","Central authority control","Trustless validation"],correctOption:2},{question:"What is a gas fee in blockchain transactions?",options:["A fee for trading oil-related tokens","A tax paid to the government","A cost paid to miners/validators for processing transactions","A subscription fee for blockchain users"],correctOption:2},{question:"What is a smart contract?",options:["A legal document signed electronically","Self-executing code that runs on a blockchain","A contract between token holders","A paper contract with digital signatures"],correctOption:1},{question:"What is a private key in cryptocurrency?",options:["A password to your exchange account","A secret code that allows you to spend your cryptocurrency","The blockchain version number","Your wallet address"],correctOption:1}];function w(e){var t;let{gameData:a,onGameEnd:n}=e,[s,i]=(0,l.useState)(0),[c,d]=(0,l.useState)(0),[m,h]=(0,l.useState)(!1),[x,u]=(0,l.useState)(null),[f,p]=(0,l.useState)(!1),[g,b]=(0,l.useState)([]),[w,v]=(0,l.useState)(!1),[j,S]=(0,l.useState)(20),N=(0,l.useRef)(null),[k,T]=(0,l.useState)(null),[A,E]=(0,l.useState)(0),C="'Times New Roman', Times, serif";(0,l.useEffect)(()=>{b(y(a.tokenSymbol))},[a.tokenSymbol]);let M=(0,l.useCallback)(()=>{N.current&&clearTimeout(N.current),T(null),s<g.length-1?(i(s+1),u(null),p(!1),S(20)):(h(!0),n&&n(c))},[s,g.length,n,c]);(0,l.useEffect)(()=>(w&&!f&&!m&&g.length>0&&s<g.length?(S(20),N.current&&clearTimeout(N.current),N.current=setInterval(()=>{S(e=>e<=1?(N.current&&clearInterval(N.current),T("Time's up!"),E(0),p(!0),u(null),setTimeout(()=>M(),2e3),0):e-1)},1e3)):(f||m)&&N.current&&clearTimeout(N.current),()=>{N.current&&clearTimeout(N.current)}),[w,s,f,m,g,M]);let F=e=>{if(!f){if(N.current&&clearTimeout(N.current),u(e),p(!0),g[s]&&e===g[s].correctOption){let e=10+Math.max(0,j-5)+5*A;d(c+e),T("Correct! +".concat(e," points!")),E(A+1)}else T("Incorrect. Better luck next time!"),E(0);setTimeout(()=>{M()},2e3)}},I=()=>{v(!0),d(0),i(0),h(!1),u(null),p(!1),S(20),T(null),E(0)},R={fontFamily:C,background:"linear-gradient(to bottom, #f5eadd 0%, #e8d8c1 100%)",color:"#4a3b31",border:"10px solid #8c6f58",boxShadow:"0 0 20px rgba(0,0,0,0.5)",borderRadius:"15px"},z="text-base md:text-lg ".concat(C),_="w-full h-full flex flex-col items-center justify-center p-2 md:p-4";return w?m?(0,r.jsx)("div",{className:_,children:(0,r.jsxs)("div",{style:R,className:"p-4 md:p-8 rounded-lg shadow-xl w-full max-w-xl text-center flex flex-col items-center justify-center flex-grow",children:[(0,r.jsx)("h2",{className:"text-3xl md:text-4xl mb-4 md:mb-6",style:{fontFamily:"'Cinzel Decorative', cursive",color:"#5a3d2b"},children:"The Oracle Has Spoken!"}),(0,r.jsxs)("p",{className:"text-2xl md:text-3xl mb-4 md:mb-6",children:["Final Score: ",(0,r.jsx)("span",{className:"font-bold text-[#6a4f3b]",children:c})]}),(0,r.jsx)("p",{className:"text-md md:text-lg mb-6 md:mb-8 italic",children:c>=15*g.length?"A true sage of the digital age!":c>=10*g.length?"Well versed in the ancient texts!":c>=5*g.length?"A promising acolyte!":"The scrolls of knowledge await further study."}),(0,r.jsx)(o.$,{onClick:()=>{I()},className:"w-auto max-w-xs bg-[#8c6f58] hover:bg-[#7a5f48] text-white text-lg md:text-xl py-2 md:py-3 px-6 md:px-8 rounded-lg shadow-md",style:{fontFamily:C,borderBottom:"4px solid #5a3d2b"},children:"Consult the Oracle Again"})]})}):(0,r.jsx)("div",{className:_,children:(0,r.jsxs)("div",{style:R,className:"p-3 md:p-6 rounded-lg shadow-xl w-full max-w-2xl flex flex-col text-center flex-grow overflow-y-auto",children:[(0,r.jsx)("h2",{className:"text-2xl md:text-3xl mb-1 md:mb-2",style:{fontFamily:"'Cinzel Decorative', cursive",color:"#5a3d2b"},children:a.name}),(0,r.jsxs)("p",{className:"text-sm md:text-md mb-2 md:mb-3 italic",children:["Token: ",(0,r.jsx)("span",{className:"font-semibold",children:a.tokenSymbol})]}),(0,r.jsxs)("div",{className:"mb-2 md:mb-3",children:[(0,r.jsxs)("p",{className:"text-xs md:text-sm",children:["Question ",s+1," of ",g.length>0?g.length:"..."]}),(0,r.jsx)("div",{className:"h-2 md:h-3 bg-[#c7b299] rounded-full mt-1 border border-[#8c6f58]",children:(0,r.jsx)("div",{className:"h-full bg-[#8c6f58] rounded-full transition-all duration-300 ease-linear",style:{width:g.length>0?"".concat((s+1)/g.length*100,"%"):"0%"}})})]}),(0,r.jsx)("div",{className:"mb-2 md:mb-3 min-h-[20px] md:min-h-[30px]",children:w&&!m&&(0,r.jsxs)("p",{className:"text-md md:text-xl ".concat(j<=5&&j>0?"text-red-700 animate-pulse":0===j&&f?"text-red-800 font-bold":"text-[#6a4f3b]"),children:["Time: ",j,"s"]})}),(0,r.jsxs)("div",{className:"bg-[#e8d8c1]/70 p-3 md:p-4 rounded-md mb-3 md:mb-4 flex-grow flex flex-col justify-center border-2 border-[#b09a84] shadow-inner",children:[(0,r.jsx)("h3",{className:"text-xl md:text-2xl mb-3 md:mb-4 min-h-[2.5em] md:min-h-[3em] flex items-center justify-center text-[#4a3b31]",children:(null===(t=g[s])||void 0===t?void 0:t.question)||(0===g.length&&w?"Summoning ancient query...":"Prepare thyself!")}),g.length>0&&s<g.length&&(0,r.jsx)("div",{className:"space-y-2 md:space-y-3 w-full max-w-md mx-auto",children:g[s].options.map((e,t)=>{let a="border-[#8c6f58] bg-[#d7c5ac] hover:bg-[#c7b299] ".concat(z);return f&&(a=t===g[s].correctOption?"border-green-700 bg-green-300 text-green-900 scale-105 transform ring-2 ring-green-500 shadow-lg ".concat(z):t===x?"border-red-700 bg-red-300 text-red-900 shadow-md ".concat(z):"border-[#a08a76] bg-[#c7b299]/50 text-[#6a4f3b]/70 opacity-60 ".concat(z)),(0,r.jsx)("button",{onClick:()=>F(t),disabled:f,className:"".concat("w-full p-2 md:p-3 text-left rounded-md transition-all duration-200 ease-in-out border-2"," ").concat(a),children:e},t)})})]}),(0,r.jsxs)("div",{className:"min-h-[40px] md:min-h-[50px] flex flex-col justify-center items-center",children:[k&&(0,r.jsx)("p",{className:"text-md md:text-lg my-1 md:my-2 font-semibold ".concat(k.includes("Correct")?"text-green-700":"text-red-700"),children:k}),A>1&&(0,r.jsxs)("p",{className:"text-sm md:text-md text-yellow-700 font-bold animate-pulse",children:["Streak: ",A," correct!"]}),(0,r.jsxs)("p",{className:"text-xl md:text-2xl mt-1 md:mt-2",children:["Score: ",(0,r.jsx)("span",{className:"font-bold text-[#6a4f3b]",children:c})]})]})]})}):(0,r.jsx)("div",{className:_,children:(0,r.jsxs)("div",{style:R,className:"p-4 md:p-8 rounded-lg shadow-xl w-full max-w-xl text-center flex flex-col items-center justify-center flex-grow",children:[(0,r.jsx)("h2",{className:"text-3xl md:text-4xl mb-4 md:mb-6",style:{fontFamily:"'Cinzel Decorative', cursive",color:"#5a3d2b"},children:a.name}),(0,r.jsxs)("p",{className:"text-md md:text-lg mb-2",children:["Associated Token: ",(0,r.jsx)("span",{className:"font-semibold",children:a.tokenSymbol})]}),(0,r.jsxs)("p",{className:"text-sm md:text-md mb-6 md:mb-8 italic",children:["Unravel the mysteries of ",a.tokenSymbol," and the blockchain realm. Your wisdom shall be tested!"]}),(0,r.jsx)(o.$,{onClick:I,className:"w-auto max-w-xs bg-[#8c6f58] hover:bg-[#7a5f48] text-white text-lg md:text-xl py-2 md:py-3 px-6 md:px-8 rounded-lg shadow-md",style:{fontFamily:C,borderBottom:"4px solid #5a3d2b"},children:"Begin Thy Quest"})]})})}function v(e){let{gameData:t,onGameEnd:a}=e,n=(0,l.useRef)(null),[s,i]=(0,l.useState)(0),[c,d]=(0,l.useState)(!1),[m,h]=(0,l.useState)(!1),x=(0,l.useRef)({x:50,y:350,width:30,height:50,velocityY:0,isJumping:!1}),u=(0,l.useRef)([]),f=(0,l.useRef)(null),p=(0,l.useRef)(800),g=(0,l.useCallback)(()=>{let e={x:800+200*Math.random()+100,y:360,width:40,height:40};u.current.push(e),p.current=e.x},[]),b=(0,l.useCallback)(()=>{x.current={x:50,y:350,width:30,height:50,velocityY:0,isJumping:!1},u.current=[],i(0),d(!1),p.current=800,g()},[g]),y=(0,l.useCallback)(()=>{b(),h(!0)},[b]),w=(e,t)=>{e.fillStyle="#FF00FF",e.fillRect(t.x,t.y,t.width,t.height)},v=(e,t)=>{e.fillStyle="#D9006C",e.fillRect(t.x,t.y,t.width,t.height)},j=e=>{e.fillStyle="#22223B",e.fillRect(0,400,800,50)},S=e=>{e.fillStyle="#FFFFFF",e.font="24px Arial",e.textAlign="left",e.fillText("SCORE: ".concat(s),20,40)},N=(0,l.useCallback)(()=>{if(!m||c||!n.current)return;let e=n.current.getContext("2d");if(!e)return;e.fillStyle="#0A0A1E",e.fillRect(0,0,800,450),j(e);let t=x.current;t.y+=t.velocityY,t.velocityY+=.6,t.y>=350&&(t.y=350,t.velocityY=0,t.isJumping=!1),w(e,t);for(let r=u.current.length-1;r>=0;r--){let l=u.current[r];if(l.x-=5,v(e,l),t.x<l.x+l.width&&t.x+t.width>l.x&&t.y<l.y+l.height&&t.y+t.height>l.y){d(!0),a&&a(s),f.current&&cancelAnimationFrame(f.current);return}l.x+l.width<0&&(u.current.splice(r,1),i(e=>e+10))}(0===u.current.length||800-p.current>300)&&g(),S(e),f.current=requestAnimationFrame(N)},[m,c,s,a,g]);return(0,l.useEffect)(()=>(m&&!c?f.current=requestAnimationFrame(N):f.current&&cancelAnimationFrame(f.current),()=>{f.current&&cancelAnimationFrame(f.current)}),[m,c,N]),(0,l.useEffect)(()=>{let e=e=>{m||"Space"!==e.code&&" "!==e.key?!m||c||"Space"!==e.code&&" "!==e.key||x.current.isJumping||(e.preventDefault(),x.current.velocityY=-12,x.current.isJumping=!0):(e.preventDefault(),y())};return window.addEventListener("keydown",e),()=>{window.removeEventListener("keydown",e)}},[m,c,y]),(0,l.useEffect)(()=>{if(n.current){let e=n.current.getContext("2d");e&&(e.clearRect(0,0,800,450),j(e),w(e,x.current),S(e),m||(e.fillStyle="rgba(0,0,0,0.5)",e.fillRect(0,0,800,450),e.fillStyle="white",e.font="30px Arial",e.textAlign="center",e.fillText("Press SPACE to Start",400,225)))}},[m]),(0,r.jsxs)("div",{className:"w-full h-full flex flex-col items-center justify-center text-center p-1 md:p-2",children:[(0,r.jsxs)("div",{className:"mb-2 md:mb-3 text-xs md:text-sm",children:[(0,r.jsx)("h2",{className:"text-xl md:text-2xl font-pixel text-purple-300",children:t.name}),(0,r.jsxs)("p",{className:"text-zinc-400",children:["Token: ",(0,r.jsx)("span",{className:"font-semibold text-purple-400",children:t.tokenSymbol})]}),!m&&(0,r.jsx)("p",{className:"text-zinc-500",children:"Press SPACE to jump and start!"}),m&&!c&&(0,r.jsx)("p",{className:"text-zinc-500",children:"SPACE to jump!"})]}),(0,r.jsx)("div",{className:"w-full max-w-[90vw] md:max-w-[80vw] aspect-[16/9] bg-zinc-900 rounded-md border border-purple-500/30 shadow-2xl shadow-purple-500/20 overflow-hidden",children:(0,r.jsx)("canvas",{ref:n,width:800,height:450,className:"w-full h-full object-contain"})}),!m&&!c&&(0,r.jsx)(o.$,{onClick:y,className:"mt-3 md:mt-4 bg-purple-600 hover:bg-purple-700 text-white font-pixel text-lg md:text-xl py-2 md:py-3 px-6 md:px-8",children:"Start Game"}),c&&(0,r.jsxs)("div",{className:"mt-3 md:mt-4 p-3 md:p-4 bg-black/50 backdrop-blur-sm rounded-md",children:[(0,r.jsx)("p",{className:"text-xl md:text-2xl text-white mb-1 md:mb-2 font-pixel",children:"Game Over!"}),(0,r.jsxs)("p",{className:"text-lg md:text-xl text-yellow-400 mb-2 md:mb-3 font-pixel",children:["Final Score: ",s]}),(0,r.jsx)(o.$,{onClick:y,className:"w-full bg-purple-600 hover:bg-purple-700 text-white font-pixel text-lg md:text-xl py-2 md:py-3",children:"Play Again"})]})]})}var j=a(5077);let S=(0,j.A)("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),N=(0,j.A)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);var k=a(7332),T=a(594);function A(){let e=(0,n.useRouter)(),t=(0,n.useParams)().gameId,[a,s]=(0,l.useState)(null),[d,h]=(0,l.useState)(!0),[x,f]=(0,l.useState)(null);return(0,l.useEffect)(()=>{t?(async()=>{h(!0),f(null);try{let e=await fetch("/api/games?id=".concat(t));if(!e.ok){404===e.status?f('Game with ID "'.concat(t,'" not found.')):f("Failed to fetch game data. Status: ".concat(e.status)),s(null);return}let a=await e.json();s(a)}catch(e){console.error("Error fetching game:",e),f("An unexpected error occurred while fetching the game."),s(null)}finally{h(!1)}})():(f("No game ID provided."),h(!1))},[t]),(0,r.jsxs)("div",{className:"h-screen bg-[#0A0A1E] text-white flex flex-col items-stretch font-sans overflow-hidden",children:[" ",(0,r.jsxs)("header",{className:"absolute top-0 left-0 p-2 md:p-3 z-50",children:[" ",(0,r.jsxs)(o.$,{variant:"ghost",onClick:()=>e.push("/"),className:"font-pixel text-zinc-300 hover:bg-zinc-800/50 hover:text-white flex items-center backdrop-blur-sm bg-black/20 rounded-md px-2 py-1 md:px-3 md:py-2 text-sm md:text-base",children:[(0,r.jsx)(N,{size:16,className:"mr-1 md:mr-2"})," ","Home"]})]}),(0,r.jsxs)("main",{className:"flex-1 flex flex-col items-center justify-center w-full h-full overflow-auto p-1 md:p-2",children:[" ",d&&(0,r.jsxs)("div",{className:"text-center py-10",children:[(0,r.jsx)(k.A,{className:"mx-auto h-16 w-16 text-emerald-400 animate-spin mb-4"}),(0,r.jsx)("p",{className:"text-2xl font-pixel text-zinc-200",children:"Loading Your Game..."})]}),x&&!d&&(0,r.jsxs)("div",{className:"text-center py-10 p-8 bg-red-700/20 border border-red-600 rounded-lg max-w-lg",children:[(0,r.jsx)(S,{className:"mx-auto h-16 w-16 text-red-300 mb-4"}),(0,r.jsx)("h2",{className:"text-3xl font-pixel text-white mb-2",children:"Error Encountered"}),(0,r.jsx)("p",{className:"text-red-200 text-lg",children:x})]}),!d&&!x&&a&&(()=>{if(!a)return null;switch(a.gameType.toLowerCase()){case"clicker":if("doge_clicker_simple"===a.id)return(0,r.jsx)(m,{gameData:a});return(0,r.jsx)(c,{gameData:a});case"quiz":return(0,r.jsx)(w,{gameData:a});case"runner":return(0,r.jsx)(v,{gameData:a});case"adventure-choice":return(0,r.jsx)(u,{gameData:a});case"ape-platformer":return(0,r.jsx)(g,{gameData:a});case"ai-generated":return(0,r.jsx)(b,{gameData:a});default:return(0,r.jsxs)("div",{className:"text-center p-8 bg-zinc-800 rounded-lg",children:[(0,r.jsx)(S,{className:"mx-auto h-12 w-12 text-yellow-400 mb-4"}),(0,r.jsx)("h2",{className:"text-2xl font-pixel text-white mb-2",children:"Game Type Not Supported"}),(0,r.jsxs)("p",{className:"text-zinc-300",children:['The game type "',a.gameType,'" is not yet supported for "',a.name,'".']})]})}})(),!d&&!x&&!a&&(0,r.jsx)("div",{className:"text-center py-10",children:(0,r.jsx)("p",{className:"text-2xl font-pixel text-zinc-400",children:"This Game Seems To Be Lost In The Ether..."})})]}),(0,r.jsxs)("footer",{className:"w-full p-2 bg-black/50 backdrop-blur-md text-center border-t border-zinc-700/50 flex items-center justify-between z-50",children:[" ",(0,r.jsxs)(i(),{href:"/",className:"flex items-center gap-1 md:gap-2 hover:opacity-80 transition-opacity",children:[(0,r.jsx)(T.g,{className:"w-5 h-5 md:w-6 md:h-6 text-emerald-400"}),(0,r.jsx)("span",{className:"font-pixel text-xs md:text-sm text-zinc-300",children:"gameit"})]}),(0,r.jsx)("span",{className:"text-xs text-zinc-500",children:"Alpha Version"})]})]})}},5547:(e,t,a)=>{"use strict";var r=a(9603);a.o(r,"useParams")&&a.d(t,{useParams:function(){return r.useParams}}),a.o(r,"usePathname")&&a.d(t,{usePathname:function(){return r.usePathname}}),a.o(r,"useRouter")&&a.d(t,{useRouter:function(){return r.useRouter}})},7332:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(5077).A)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},7812:(e,t,a)=>{"use strict";a.d(t,{$:()=>c});var r=a(4807),l=a(2015),n=a(7346),s=a(176),i=a(1984);let o=(0,s.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=l.forwardRef((e,t)=>{let{className:a,variant:l,size:s,asChild:c=!1,...d}=e,m=c?n.DX:"button";return(0,r.jsx)(m,{className:(0,i.cn)(o({variant:l,size:s,className:a})),ref:t,...d})});c.displayName="Button"},9452:(e,t,a)=>{Promise.resolve().then(a.bind(a,5095))}},e=>{var t=t=>e(e.s=t);e.O(0,[407,950,562,436,984,358],()=>t(9452)),_N_E=e.O()}]);